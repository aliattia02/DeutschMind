<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A1 Grammar - Sentence Structure | DeutschMind</title>
    <link rel="stylesheet" href="grammar-base.css">
    <style>
        /* Additional styles for sentence structure */
        .diagram-box {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .sentence-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .diagram-element {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            font-size: 1.3em;
            font-weight: 700;
            min-width: 120px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            position: relative;
        }
        
        .diagram-element.subject { background: linear-gradient(135deg, #2196F3, #1976D2); }
        .diagram-element.verb { background: linear-gradient(135deg, #F44336, #D32F2F); }
        .diagram-element.object { background: linear-gradient(135deg, #4CAF50, #388E3C); }
        .diagram-element.time { background: linear-gradient(135deg, #FF9800, #F57C00); }
        .diagram-element.manner { background: linear-gradient(135deg, #9C27B0, #7B1FA2); }
        .diagram-element.place { background: linear-gradient(135deg, #00BCD4, #0097A7); }
        
        .diagram-label {
            font-size: 0.7em;
            opacity: 0.9;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .diagram-word {
            font-size: 1.2em;
        }
        
        .arrow {
            font-size: 2em;
            color: #667eea;
            font-weight: 700;
        }
        
        .position-box {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border-left: 5px solid #667eea;
        }
        
        .position-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: 700;
            margin-right: 15px;
        }
        
        .word-order-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .order-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .order-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .order-title {
            font-size: 1.2em;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .order-example {
            font-size: 1.1em;
            margin: 10px 0;
            color: #333;
        }
        
        .order-translation {
            font-style: italic;
            color: #666;
            font-size: 0.95em;
        }
        
        .question-type {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .question-type h4 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .interactive-sentence {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
        }
        
        .sentence-display {
            font-size: 2em;
            font-weight: 700;
            color: #333;
            margin: 20px 0;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .word-highlight {
            padding: 5px 15px;
            border-radius: 10px;
            display: inline-block;
        }
        
        .highlight-subject { background: rgba(33, 150, 243, 0.3); }
        .highlight-verb { background: rgba(244, 67, 54, 0.3); }
        .highlight-object { background: rgba(76, 175, 80, 0.3); }
        .highlight-time { background: rgba(255, 152, 0, 0.3); }
        .highlight-manner { background: rgba(156, 39, 176, 0.3); }
        .highlight-place { background: rgba(0, 188, 212, 0.3); }
        .highlight-nicht { background: rgba(244, 67, 54, 0.3); }
        
        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 5px;
        }
        
        .comparison-box {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .comparison-side {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .comparison-side h4 {
            color: #667eea;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .comparison-example {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .comparison-example:hover {
            background: #e3f2fd;
            transform: translateX(5px);
        }
        
        .template-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .template-card:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        
        .template-pattern {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .template-example {
            font-size: 1.1em;
            opacity: 0.95;
            margin: 5px 0;
        }
        
        @media (max-width: 768px) {
            .sentence-diagram {
                flex-direction: column;
            }
            
            .arrow {
                transform: rotate(90deg);
            }
            
            .comparison-box {
                grid-template-columns: 1fr;
            }
            
            .diagram-element {
                min-width: 200px;
            }
        }
    </style>
</head>
<body>
<!-- NAVIGATION -->
<div class="top-navigation">
    <a href="../index.html">üè† Home</a>
    <a href="../index.html#levels">üìö Levels</a>
    <a href="../index.html#categories">üéØ Categories</a>
    <a href="../tools/progress.html">üìä Progress</a>
    <a href="../about.html">‚ÑπÔ∏è About</a>
</div>

<header>
    <h1>üá©üá™ Sentence Structure - Der Satzbau</h1>
    <p>A1 Grammar | Master German Word Order with Visual Learning</p>
    <p class="subtitle">Created by: aliattia02 | DeutschMind</p>
</header>

<div class="container">
    <!-- AUDIO CONTROLS -->
    <div class="audio-controls">
        <h3>üîä Audio Settings</h3>
        <div class="control-group">
            <label for="voiceSelect">Voice:</label>
            <select id="voiceSelect">
                <option value="">Loading voices...</option>
            </select>
        </div>
        <div class="control-group">
            <label for="speedControl">Speed:</label>
            <input type="range" id="speedControl" min="0.5" max="1.5" step="0.1" value="0.8">
            <span id="speedValue">0.8x</span>
        </div>
        <div class="control-group">
            <label for="pitchControl">Pitch:</label>
            <input type="range" id="pitchControl" min="0.5" max="2" step="0.1" value="1">
            <span id="pitchValue">1.0</span>
        </div>
        <button class="play-all-btn" onclick="playAllSentences()">‚ñ∂ Play All Examples</button>
    </div>

    <!-- TABS -->
    <div class="tabs">
        <button class="tab-button active" onclick="showTab('basic-order')">üìê Basic Word Order</button>
        <button class="tab-button" onclick="showTab('questions')">‚ùì Questions</button>
        <button class="tab-button" onclick="showTab('tmp')">‚è∞ Time-Manner-Place</button>
        <button class="tab-button" onclick="showTab('negation')">üö´ Negation</button>
        <button class="tab-button" onclick="showTab('builder')">üß© Sentence Builder</button>
        <button class="tab-button" onclick="showTab('patterns')">üìã Common Patterns</button>
    </div>

    <!-- ============================================ -->
    <!-- TAB 1: BASIC WORD ORDER (SVO)               -->
    <!-- ============================================ -->
    <div id="basic-order" class="tab-content active">
        <div class="card">
            <h2><span class="section-icon">üìê</span>Basic Word Order - Subject-Verb-Object</h2>
            
            <div class="explanation-box">
                <p>German sentences follow a <strong>Subject-Verb-Object (SVO)</strong> pattern, similar to English!</p>
                <p><strong>The Golden Rule:</strong> The verb is ALWAYS in the <strong>2nd position</strong> in a statement.</p>
            </div>

            <h3>üé® Visual Diagram</h3>
            <div class="diagram-box">
                <div class="sentence-diagram" onclick="speak('Ich lerne Deutsch')">
                    <div class="diagram-element subject">
                        <div class="diagram-label">Subject</div>
                        <div class="diagram-word">Ich</div>
                    </div>
                    <span class="arrow">‚Üí</span>
                    <div class="diagram-element verb">
                        <div class="diagram-label">Verb</div>
                        <div class="diagram-word">lerne</div>
                    </div>
                    <span class="arrow">‚Üí</span>
                    <div class="diagram-element object">
                        <div class="diagram-label">Object</div>
                        <div class="diagram-word">Deutsch</div>
                    </div>
                </div>
                <p style="text-align: center; font-size: 1.2em; color: #666;">
                    "I learn German" üîä
                </p>
            </div>

            <h3>üî¢ Position by Position</h3>
            <div class="position-box">
                <span class="position-number">1</span>
                <strong>Position 1: Subject</strong> (Who or what is doing the action?)
                <div style="margin-left: 55px; margin-top: 10px;">
                    <span class="word-highlight highlight-subject">Ich</span>,
                    <span class="word-highlight highlight-subject">Du</span>,
                    <span class="word-highlight highlight-subject">Er</span>,
                    <span class="word-highlight highlight-subject">Der Mann</span>,
                    <span class="word-highlight highlight-subject">Die Frau</span>
                </div>
            </div>

            <div class="position-box">
                <span class="position-number">2</span>
                <strong>Position 2: Verb</strong> (The action - ALWAYS in 2nd position!)
                <div style="margin-left: 55px; margin-top: 10px;">
                    <span class="word-highlight highlight-verb">bin</span>,
                    <span class="word-highlight highlight-verb">habe</span>,
                    <span class="word-highlight highlight-verb">lerne</span>,
                    <span class="word-highlight highlight-verb">spiele</span>,
                    <span class="word-highlight highlight-verb">esse</span>
                </div>
            </div>

            <div class="position-box">
                <span class="position-number">3+</span>
                <strong>Position 3+: Other Elements</strong> (Object, time, place, etc.)
                <div style="margin-left: 55px; margin-top: 10px;">
                    <span class="word-highlight highlight-object">ein Buch</span>,
                    <span class="word-highlight highlight-time">heute</span>,
                    <span class="word-highlight highlight-place">in Berlin</span>
                </div>
            </div>

            <h3>üìä Examples with Color Coding</h3>
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color highlight-subject"></div>
                    <span>Subject</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color highlight-verb"></div>
                    <span>Verb</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color highlight-object"></div>
                    <span>Object/Other</span>
                </div>
            </div>

            <div class="word-order-grid">
                <div class="order-card" onclick="speak('Ich trinke Kaffee')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Ich</span>
                        <span class="word-highlight highlight-verb">trinke</span>
                        <span class="word-highlight highlight-object">Kaffee</span>
                    </div>
                    <div class="order-translation">I drink coffee</div>
                </div>

                <div class="order-card" onclick="speak('Er kauft ein Buch')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Er</span>
                        <span class="word-highlight highlight-verb">kauft</span>
                        <span class="word-highlight highlight-object">ein Buch</span>
                    </div>
                    <div class="order-translation">He buys a book</div>
                </div>

                <div class="order-card" onclick="speak('Wir lernen Deutsch')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Wir</span>
                        <span class="word-highlight highlight-verb">lernen</span>
                        <span class="word-highlight highlight-object">Deutsch</span>
                    </div>
                    <div class="order-translation">We learn German</div>
                </div>

                <div class="order-card" onclick="speak('Sie hat einen Hund')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Sie</span>
                        <span class="word-highlight highlight-verb">hat</span>
                        <span class="word-highlight highlight-object">einen Hund</span>
                    </div>
                    <div class="order-translation">She has a dog</div>
                </div>

                <div class="order-card" onclick="speak('Der Mann isst Pizza')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Der Mann</span>
                        <span class="word-highlight highlight-verb">isst</span>
                        <span class="word-highlight highlight-object">Pizza</span>
                    </div>
                    <div class="order-translation">The man eats pizza</div>
                </div>

                <div class="order-card" onclick="speak('Die Kinder spielen Fu√É≈∏ball')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Die Kinder</span>
                        <span class="word-highlight highlight-verb">spielen</span>
                        <span class="word-highlight highlight-object">Fu√É≈∏ball</span>
                    </div>
                    <div class="order-translation">The children play football</div>
                </div>
            </div>

            <div class="key-point">
                <strong>üí° Key Rules:</strong><br>
                ‚Ä¢ The verb is ALWAYS in position 2 in statements<br>
                ‚Ä¢ Subject usually comes first (position 1)<br>
                ‚Ä¢ Everything else follows the verb (position 3+)<br>
                ‚Ä¢ This is the most important rule in German word order!
            </div>

            <h3>üîÑ What if Something Else is in Position 1?</h3>
            <div class="explanation-box">
                <p>Sometimes we start with <strong>time</strong> or <strong>place</strong> instead of the subject. The verb STILL stays in position 2, but now the subject moves to position 3!</p>
            </div>

            <div class="comparison-box">
                <div class="comparison-side">
                    <h4>Normal Order</h4>
                    <div class="comparison-example" onclick="speak('Ich gehe heute ins Kino')">
                        <span class="word-highlight highlight-subject">Ich</span>
                        <span class="word-highlight highlight-verb">gehe</span>
                        <span class="word-highlight highlight-time">heute</span>
                        <span class="word-highlight highlight-place">ins Kino</span>
                        <div style="margin-top: 5px; font-style: italic; color: #666;">I go to the cinema today</div>
                    </div>
                </div>

                <div class="comparison-side">
                    <h4>Time First (Inverted)</h4>
                    <div class="comparison-example" onclick="speak('Heute gehe ich ins Kino')">
                        <span class="word-highlight highlight-time">Heute</span>
                        <span class="word-highlight highlight-verb">gehe</span>
                        <span class="word-highlight highlight-subject">ich</span>
                        <span class="word-highlight highlight-place">ins Kino</span>
                        <div style="margin-top: 5px; font-style: italic; color: #666;">Today I go to the cinema</div>
                    </div>
                </div>
            </div>

            <div class="mnemonic-box">
                <h4>üß† Memory Trick</h4>
                <p>"<strong>Verb is the VIP - always position TWO, never THREE!</strong>"</p>
                <div class="hint">No matter what comes first, the verb always stays in 2nd position!</div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- TAB 2: QUESTIONS                            -->
    <!-- ============================================ -->
    <div id="questions" class="tab-content">
        <div class="card">
            <h2><span class="section-icon">‚ùì</span>Questions - Fragen</h2>
            
            <div class="explanation-box">
                <p>German has two main types of questions: <strong>Yes/No questions</strong> and <strong>W-questions</strong> (questions that start with question words).</p>
            </div>

            <h3>üîµ Type 1: Yes/No Questions</h3>
            <div class="question-type">
                <h4>‚úÖ Yes/No Questions (Ja/Nein-Fragen)</h4>
                <p style="margin-bottom: 15px;">Start with the <strong>VERB</strong> - no question word needed!</p>
                
                <div class="diagram-box" style="background: rgba(255,255,255,0.2);">
                    <div class="sentence-diagram" onclick="speak('Trinkst du Kaffee?')">
                        <div class="diagram-element verb">
                            <div class="diagram-label">Verb (Position 1)</div>
                            <div class="diagram-word">Trinkst</div>
                        </div>
                        <span class="arrow">‚Üí</span>
                        <div class="diagram-element subject">
                            <div class="diagram-label">Subject</div>
                            <div class="diagram-word">du</div>
                        </div>
                        <span class="arrow">‚Üí</span>
                        <div class="diagram-element object">
                            <div class="diagram-label">Object</div>
                            <div class="diagram-word">Kaffee</div>
                        </div>
                        <span class="arrow" style="color: white;">?</span>
                    </div>
                    <p style="text-align: center; color: white; font-size: 1.1em;">
                        "Do you drink coffee?" üîä
                    </p>
                </div>
            </div>

            <h3>üìù Yes/No Question Examples</h3>
            <div class="word-order-grid">
                <div class="order-card" onclick="speak('Bist du m√ºde?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-verb">Bist</span>
                        <span class="word-highlight highlight-subject">du</span>
                        <span class="word-highlight highlight-object">m√ºde</span>?
                    </div>
                    <div class="order-translation">Are you tired?</div>
                </div>

                <div class="order-card" onclick="speak('Hast du Zeit?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-verb">Hast</span>
                        <span class="word-highlight highlight-subject">du</span>
                        <span class="word-highlight highlight-object">Zeit</span>?
                    </div>
                    <div class="order-translation">Do you have time?</div>
                </div>

                <div class="order-card" onclick="speak('Kommst du heute?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-verb">Kommst</span>
                        <span class="word-highlight highlight-subject">du</span>
                        <span class="word-highlight highlight-time">heute</span>?
                    </div>
                    <div class="order-translation">Are you coming today?</div>
                </div>

                <div class="order-card" onclick="speak('Spielt er Fu√É≈∏ball?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-verb">Spielt</span>
                        <span class="word-highlight highlight-subject">er</span>
                        <span class="word-highlight highlight-object">Fu√É≈∏ball</span>?
                    </div>
                    <div class="order-translation">Does he play football?</div>
                </div>

                <div class="order-card" onclick="speak('Lernen Sie Deutsch?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-verb">Lernen</span>
                        <span class="word-highlight highlight-subject">Sie</span>
                        <span class="word-highlight highlight-object">Deutsch</span>?
                    </div>
                    <div class="order-translation">Do you learn German? (formal)</div>
                </div>

                <div class="order-card" onclick="speak('Wohnt sie in Berlin?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-verb">Wohnt</span>
                        <span class="word-highlight highlight-subject">sie</span>
                        <span class="word-highlight highlight-place">in Berlin</span>?
                    </div>
                    <div class="order-translation">Does she live in Berlin?</div>
                </div>
            </div>

            <h3>üü† Type 2: W-Questions</h3>
            <div class="question-type" style="background: linear-gradient(135deg, #FF9800, #F57C00);">
                <h4>‚ùì W-Questions (W-Fragen)</h4>
                <p style="margin-bottom: 15px;">Start with a <strong>question word</strong>, then the verb in position 2!</p>
                
                <div class="diagram-box" style="background: rgba(255,255,255,0.2);">
                    <div class="sentence-diagram" onclick="speak('Was machst du?')">
                        <div class="diagram-element" style="background: linear-gradient(135deg, #FFC107, #FFA000);">
                            <div class="diagram-label">W-Word (Position 1)</div>
                            <div class="diagram-word">Was</div>
                        </div>
                        <span class="arrow" style="color: white;">‚Üí</span>
                        <div class="diagram-element verb">
                            <div class="diagram-label">Verb (Position 2)</div>
                            <div class="diagram-word">machst</div>
                        </div>
                        <span class="arrow" style="color: white;">‚Üí</span>
                        <div class="diagram-element subject">
                            <div class="diagram-label">Subject</div>
                            <div class="diagram-word">du</div>
                        </div>
                        <span class="arrow" style="color: white;">?</span>
                    </div>
                    <p style="text-align: center; color: white; font-size: 1.1em;">
                        "What are you doing?" üîä
                    </p>
                </div>
            </div>

            <h3>üìö Common Question Words</h3>
            <div class="word-order-grid">
                <div class="order-card" onclick="speak('Wer bist du?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Wer? (Who?)</div>
                    <div class="order-example">Wer bist du?</div>
                    <div class="order-translation">Who are you?</div>
                </div>

                <div class="order-card" onclick="speak('Was machst du?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Was? (What?)</div>
                    <div class="order-example">Was machst du?</div>
                    <div class="order-translation">What are you doing?</div>
                </div>

                <div class="order-card" onclick="speak('Wann kommst du?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Wann? (When?)</div>
                    <div class="order-example">Wann kommst du?</div>
                    <div class="order-translation">When are you coming?</div>
                </div>

                <div class="order-card" onclick="speak('Wo wohnst du?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Wo? (Where?)</div>
                    <div class="order-example">Wo wohnst du?</div>
                    <div class="order-translation">Where do you live?</div>
                </div>

                <div class="order-card" onclick="speak('Woher kommst du?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Woher? (From where?)</div>
                    <div class="order-example">Woher kommst du?</div>
                    <div class="order-translation">Where are you from?</div>
                </div>

                <div class="order-card" onclick="speak('Warum lernst du Deutsch?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Warum? (Why?)</div>
                    <div class="order-example">Warum lernst du Deutsch?</div>
                    <div class="order-translation">Why are you learning German?</div>
                </div>

                <div class="order-card" onclick="speak('Wie hei√É≈∏t du?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Wie? (How?)</div>
                    <div class="order-example">Wie hei√É≈∏t du?</div>
                    <div class="order-translation">What's your name?</div>
                </div>

                <div class="order-card" onclick="speak('Wie viel kostet das?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Wie viel? (How much?)</div>
                    <div class="order-example">Wie viel kostet das?</div>
                    <div class="order-translation">How much does that cost?</div>
                </div>

                <div class="order-card" onclick="speak('Welches Buch liest du?')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Welcher/Welche/Welches? (Which?)</div>
                    <div class="order-example">Welches Buch liest du?</div>
                    <div class="order-translation">Which book are you reading?</div>
                </div>
            </div>

            <div class="comparison-box">
                <div class="comparison-side">
                    <h4>‚úÖ Yes/No Questions</h4>
                    <div class="comparison-example" onclick="speak('Sprichst du Englisch?')">
                        <strong>Verb</strong> first ‚Üí Sprichst du Englisch?
                        <div style="margin-top: 5px; font-style: italic; color: #666;">Do you speak English?</div>
                    </div>
                    <div class="comparison-example" onclick="speak('Ist das dein Buch?')">
                        <strong>Verb</strong> first ‚Üí Ist das dein Buch?
                        <div style="margin-top: 5px; font-style: italic; color: #666;">Is that your book?</div>
                    </div>
                </div>

                <div class="comparison-side">
                    <h4>‚ùì W-Questions</h4>
                    <div class="comparison-example" onclick="speak('Was sprichst du?')">
                        <strong>W-word</strong> first ‚Üí Was sprichst du?
                        <div style="margin-top: 5px; font-style: italic; color: #666;">What do you speak?</div>
                    </div>
                    <div class="comparison-example" onclick="speak('Wessen Buch ist das?')">
                        <strong>W-word</strong> first ‚Üí Wessen Buch ist das?
                        <div style="margin-top: 5px; font-style: italic; color: #666;">Whose book is that?</div>
                    </div>
                </div>
            </div>

            <div class="key-point">
                <strong>üí° Question Rules:</strong><br>
                ‚Ä¢ <strong>Yes/No:</strong> Verb in position 1, subject in position 2<br>
                ‚Ä¢ <strong>W-Questions:</strong> W-word in position 1, verb in position 2, subject in position 3<br>
                ‚Ä¢ The verb is ALWAYS in position 1 or 2 in questions<br>
                ‚Ä¢ Don't forget the question mark (?)!
            </div>

            <div class="mnemonic-box">
                <h4>üß† Memory Trick</h4>
                <p>"<strong>Verb FIRST for yes or no, W-word FIRST to know!</strong>"</p>
                <div class="hint">Yes/No = Verb first | W-Questions = W-word first, then verb</div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- TAB 3: TIME-MANNER-PLACE                    -->
    <!-- ============================================ -->
    <div id="tmp" class="tab-content">
        <div class="card">
            <h2><span class="section-icon">‚è∞</span>Time-Manner-Place (TeKaMoLo)</h2>
            
            <div class="explanation-box">
                <p>When you have multiple adverbs (time, manner, place) in a sentence, they follow a specific order:</p>
                <p><strong>Time ‚Üí Manner ‚Üí Place</strong> (or in German: <strong>TeKaMoLo</strong>)</p>
                <p style="margin-top: 10px;"><strong>Te</strong>mporal (Time) ‚Üí <strong>Ka</strong>usal (Reason/Cause) ‚Üí <strong>Mo</strong>dal (Manner) ‚Üí <strong>Lo</strong>kal (Place)</p>
            </div>

            <h3>üé® Visual Order</h3>
            <div class="diagram-box">
                <div class="sentence-diagram" onclick="speak('Ich fahre morgen mit dem Auto nach Berlin')">
                    <div class="diagram-element subject">
                        <div class="diagram-label">Subject</div>
                        <div class="diagram-word">Ich</div>
                    </div>
                    <span class="arrow">‚Üí</span>
                    <div class="diagram-element verb">
                        <div class="diagram-label">Verb</div>
                        <div class="diagram-word">fahre</div>
                    </div>
                    <span class="arrow">‚Üí</span>
                    <div class="diagram-element time">
                        <div class="diagram-label">Time (wann?)</div>
                        <div class="diagram-word">morgen</div>
                    </div>
                    <span class="arrow">‚Üí</span>
                    <div class="diagram-element manner">
                        <div class="diagram-label">Manner (wie?)</div>
                        <div class="diagram-word">mit dem Auto</div>
                    </div>
                    <span class="arrow">‚Üí</span>
                    <div class="diagram-element place">
                        <div class="diagram-label">Place (wo/wohin?)</div>
                        <div class="diagram-word">nach Berlin</div>
                    </div>
                </div>
                <p style="text-align: center; font-size: 1.2em; color: #666;">
                    "I'm driving to Berlin tomorrow by car" üîä
                </p>
            </div>

            <h3>üìã The Three Main Types</h3>
            <div class="word-order-grid">
                <div class="order-card">
                    <div class="order-title" style="color: #FF9800;">‚è∞ Temporal (Time)</div>
                    <div style="margin: 15px 0;">
                        <strong>Answers:</strong> Wann? (When?)<br>
                        <strong>Examples:</strong>
                    </div>
                    <div class="order-example">heute, morgen, jetzt</div>
                    <div class="order-example">um 8 Uhr, am Montag</div>
                    <div class="order-example">im Sommer, 2024</div>
                </div>

                <div class="order-card">
                    <div class="order-title" style="color: #9C27B0;">‚ú® Modal (Manner)</div>
                    <div style="margin: 15px 0;">
                        <strong>Answers:</strong> Wie? (How?)<br>
                        <strong>Examples:</strong>
                    </div>
                    <div class="order-example">schnell, langsam, gern</div>
                    <div class="order-example">mit dem Auto</div>
                    <div class="order-example">ohne Hilfe</div>
                </div>

                <div class="order-card">
                    <div class="order-title" style="color: #00BCD4;">üìç Lokal (Place)</div>
                    <div style="margin: 15px 0;">
                        <strong>Answers:</strong> Wo? Wohin? (Where? Where to?)<br>
                        <strong>Examples:</strong>
                    </div>
                    <div class="order-example">hier, dort, √ºberall</div>
                    <div class="order-example">in Berlin, zu Hause</div>
                    <div class="order-example">nach Deutschland</div>
                </div>
            </div>

            <h3>üéØ Examples with Full Color Coding</h3>
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color highlight-subject"></div>
                    <span>Subject</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color highlight-verb"></div>
                    <span>Verb</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color highlight-time"></div>
                    <span>Time</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color highlight-manner"></div>
                    <span>Manner</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color highlight-place"></div>
                    <span>Place</span>
                </div>
            </div>

            <div class="word-order-grid">
                <div class="order-card" onclick="speak('Ich gehe morgen gern ins Kino')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Ich</span>
                        <span class="word-highlight highlight-verb">gehe</span>
                        <span class="word-highlight highlight-time">morgen</span>
                        <span class="word-highlight highlight-manner">gern</span>
                        <span class="word-highlight highlight-place">ins Kino</span>
                    </div>
                    <div class="order-translation">I'm gladly going to the cinema tomorrow</div>
                </div>

                <div class="order-card" onclick="speak('Er arbeitet heute flei√üig im B√ºro')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Er</span>
                        <span class="word-highlight highlight-verb">arbeitet</span>
                        <span class="word-highlight highlight-time">heute</span>
                        <span class="word-highlight highlight-manner">flei√üig</span>
                        <span class="word-highlight highlight-place">im B√ºro</span>
                    </div>
                    <div class="order-translation">He's working diligently at the office today</div>
                </div>

                <div class="order-card" onclick="speak('Wir fahren n√§chste Woche mit dem Zug nach M√ºnchen')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Wir</span>
                        <span class="word-highlight highlight-verb">fahren</span>
                        <span class="word-highlight highlight-time">n√§chste Woche</span>
                        <span class="word-highlight highlight-manner">mit dem Zug</span>
                        <span class="word-highlight highlight-place">nach M√ºnchen</span>
                    </div>
                    <div class="order-translation">We're going to Munich by train next week</div>
                </div>

                <div class="order-card" onclick="speak('Sie lernt jeden Tag flei√üig zu Hause')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Sie</span>
                        <span class="word-highlight highlight-verb">lernt</span>
                        <span class="word-highlight highlight-time">jeden Tag</span>
                        <span class="word-highlight highlight-manner">flei√üig</span>
                        <span class="word-highlight highlight-place">zu Hause</span>
                    </div>
                    <div class="order-translation">She studies diligently at home every day</div>
                </div>

                <div class="order-card" onclick="speak('Die Kinder spielen nachmittags fr√∂hlich im Park')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Die Kinder</span>
                        <span class="word-highlight highlight-verb">spielen</span>
                        <span class="word-highlight highlight-time">nachmittags</span>
                        <span class="word-highlight highlight-manner">fr√∂hlich</span>
                        <span class="word-highlight highlight-place">im Park</span>
                    </div>
                    <div class="order-translation">The children play happily in the park in the afternoon</div>
                </div>

                <div class="order-card" onclick="speak('Ich esse abends oft im Restaurant')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-example">
                        <span class="word-highlight highlight-subject">Ich</span>
                        <span class="word-highlight highlight-verb">esse</span>
                        <span class="word-highlight highlight-time">abends</span>
                        <span class="word-highlight highlight-manner">oft</span>
                        <span class="word-highlight highlight-place">im Restaurant</span>
                    </div>
                    <div class="order-translation">I often eat at the restaurant in the evening</div>
                </div>
            </div>

            <h3>‚ùå Common Mistakes</h3>
            <div class="comparison-box">
                <div class="comparison-side" style="border: 3px solid #F44336;">
                    <h4 style="color: #F44336;">‚ùå Wrong Order</h4>
                    <div class="comparison-example">
                        Ich gehe <span style="background: #ffebee; padding: 3px 8px; border-radius: 5px;">ins Kino morgen</span>
                        <div style="margin-top: 5px; color: #F44336;">Place before time ‚ùå</div>
                    </div>
                    <div class="comparison-example">
                        Er f√§hrt <span style="background: #ffebee; padding: 3px 8px; border-radius: 5px;">nach Berlin mit dem Auto</span>
                        <div style="margin-top: 5px; color: #F44336;">Place before manner ‚ùå</div>
                    </div>
                </div>

                <div class="comparison-side" style="border: 3px solid #4CAF50;">
                    <h4 style="color: #4CAF50;">‚úÖ Correct Order</h4>
                    <div class="comparison-example">
                        Ich gehe <span style="background: #e8f5e9; padding: 3px 8px; border-radius: 5px;">morgen ins Kino</span>
                        <div style="margin-top: 5px; color: #4CAF50;">Time before place ‚úÖ</div>
                    </div>
                    <div class="comparison-example">
                        Er f√§hrt <span style="background: #e8f5e9; padding: 3px 8px; border-radius: 5px;">mit dem Auto nach Berlin</span>
                        <div style="margin-top: 5px; color: #4CAF50;">Manner before place ‚úÖ</div>
                    </div>
                </div>
            </div>

            <div class="key-point">
                <strong>üí° Important Notes:</strong><br>
                ‚Ä¢ <strong>Time</strong> expressions come first after the verb<br>
                ‚Ä¢ <strong>Manner</strong> (how you do something) comes in the middle<br>
                ‚Ä¢ <strong>Place</strong> (where/where to) comes last<br>
                ‚Ä¢ Remember: <strong>TeKaMoLo</strong> or just <strong>Time-Manner-Place</strong>!
            </div>

            <div class="mnemonic-box">
                <h4>üß† Memory Trick</h4>
                <p>"<strong>Time flies (Manner) to Places!</strong>"</p>
                <div class="hint">Or remember: <strong>TeKaMoLo</strong> - Temporal, Kausal, Modal, Lokal</div>
            </div>

            <div class="interactive-sentence">
                <h3>üéÆ Interactive Example</h3>
                <p>Click the button to see different combinations!</p>
                <div class="sentence-display" id="tmpDisplay">
                    <span class="word-highlight highlight-subject">Ich</span>
                    <span class="word-highlight highlight-verb">gehe</span>
                    <span class="word-highlight highlight-time">heute</span>
                    <span class="word-highlight highlight-manner">schnell</span>
                    <span class="word-highlight highlight-place">zum Supermarkt</span>
                </div>
                <button class="play-all-btn" onclick="rotateTMPExample()">üîÑ Show Another Example</button>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- TAB 4: NEGATION WITH NICHT                  -->
    <!-- ============================================ -->
    <div id="negation" class="tab-content">
        <div class="card">
            <h2><span class="section-icon">üö´</span>Negation with "nicht"</h2>
            
            <div class="explanation-box">
                <p><strong>"nicht"</strong> means "not" and is used to negate verbs, adjectives, and adverbs.</p>
                <p>Position of <strong>nicht</strong> depends on what you're negating!</p>
            </div>

            <h3>üìç Position Rules for "nicht"</h3>
            
            <div class="position-box">
                <span class="position-number">1</span>
                <strong>At the END: Negating the whole action</strong>
                <div style="margin-left: 55px; margin-top: 10px;">
                    <div class="order-card" onclick="speak('Ich verstehe das nicht')">
                        <span class="audio-icon">üîä</span>
                        <div class="order-example">
                            Ich verstehe das <span class="word-highlight highlight-nicht">nicht</span>.
                        </div>
                        <div class="order-translation">I don't understand that.</div>
                    </div>
                </div>
            </div>

            <div class="position-box">
                <span class="position-number">2</span>
                <strong>BEFORE: Adjectives, adverbs, or specific words</strong>
                <div style="margin-left: 55px; margin-top: 10px;">
                    <div class="order-card" onclick="speak('Das ist nicht sch√∂n')">
                        <span class="audio-icon">üîä</span>
                        <div class="order-example">
                            Das ist <span class="word-highlight highlight-nicht">nicht</span> sch√∂n.
                        </div>
                        <div class="order-translation">That is not nice.</div>
                    </div>
                </div>
            </div>

            <div class="position-box">
                <span class="position-number">3</span>
                <strong>BEFORE: Prepositional phrases (place/time)</strong>
                <div style="margin-left: 55px; margin-top: 10px;">
                    <div class="order-card" onclick="speak('Ich gehe nicht ins Kino')">
                        <span class="audio-icon">üîä</span>
                        <div class="order-example">
                            Ich gehe <span class="word-highlight highlight-nicht">nicht</span> ins Kino.
                        </div>
                        <div class="order-translation">I'm not going to the cinema.</div>
                    </div>
                </div>
            </div>

            <h3>üìä Examples by Category</h3>
            <div class="word-order-grid">
                <div class="order-card" onclick="speak('Ich arbeite heute nicht')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Negating the action</div>
                    <div class="order-example">
                        Ich arbeite heute <span class="word-highlight highlight-nicht">nicht</span>.
                    </div>
                    <div class="order-translation">I'm not working today.</div>
                </div>

                <div class="order-card" onclick="speak('Er kommt nicht')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Negating the action</div>
                    <div class="order-example">
                        Er kommt <span class="word-highlight highlight-nicht">nicht</span>.
                    </div>
                    <div class="order-translation">He's not coming.</div>
                </div>

                <div class="order-card" onclick="speak('Das Wetter ist nicht gut')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Before adjective</div>
                    <div class="order-example">
                        Das Wetter ist <span class="word-highlight highlight-nicht">nicht</span> gut.
                    </div>
                    <div class="order-translation">The weather is not good.</div>
                </div>

                <div class="order-card" onclick="speak('Sie ist nicht m√ºde')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Before adjective</div>
                    <div class="order-example">
                        Sie ist <span class="word-highlight highlight-nicht">nicht</span> m√ºde.
                    </div>
                    <div class="order-translation">She is not tired.</div>
                </div>

                <div class="order-card" onclick="speak('Wir wohnen nicht in Berlin')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Before place</div>
                    <div class="order-example">
                        Wir wohnen <span class="word-highlight highlight-nicht">nicht</span> in Berlin.
                    </div>
                    <div class="order-translation">We don't live in Berlin.</div>
                </div>

                <div class="order-card" onclick="speak('Ich gehe nicht zur Schule')">
                    <span class="audio-icon">üîä</span>
                    <div class="order-title">Before place</div>
                    <div class="order-example">
                        Ich gehe <span class="word-highlight highlight-nicht">nicht</span> zur Schule.
                    </div>
                    <div class="order-translation">I'm not going to school.</div>
                </div>
            </div>

            <h3>‚ö†Ô∏è Common Mistakes</h3>
            <div class="comparison-box">
                <div class="comparison-side" style="border: 3px solid #F44336;">
                    <h4 style="color: #F44336;">‚ùå Wrong Position</h4>
                    <div class="comparison-example">
                        <span style="background: #ffebee; padding: 5px 10px; border-radius: 5px;">Ich nicht arbeite</span>
                        <div style="margin-top: 5px; color: #F44336;">Don't put "nicht" before the verb!</div>
                    </div>
                    <div class="comparison-example">
                        <span style="background: #ffebee; padding: 5px 10px; border-radius: 5px;">Nicht ich arbeite</span>
                        <div style="margin-top: 5px; color: #F44336;">Don't start with "nicht"!</div>
                    </div>
                </div>

                <div class="comparison-side" style="border: 3px solid #4CAF50;">
                    <h4 style="color: #4CAF50;">‚úÖ Correct Position</h4>
                    <div class="comparison-example">
                        <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px;">Ich arbeite nicht</span>
                        <div style="margin-top: 5px; color: #4CAF50;">"nicht" at the end ‚úÖ</div>
                    </div>
                    <div class="comparison-example">
                        <span style="background: #e8f5e9; padding: 5px 10px; border-radius: 5px;">Ich arbeite heute nicht</span>
                        <div style="margin-top: 5px; color: #4CAF50;">After time word ‚úÖ</div>
                    </div>
                </div>
            </div>

            <div class="key-point">
                <strong>üí° Quick Rules:</strong><br>
                ‚Ä¢ General negation: <strong>nicht</strong> at the end<br>
                ‚Ä¢ Before adjectives/adverbs: Das ist <strong>nicht</strong> sch√∂n<br>
                ‚Ä¢ Before place/direction: Ich gehe <strong>nicht</strong> ins Kino<br>
                ‚Ä¢ NEVER before the main verb in position 2!
            </div>

            <div class="mnemonic-box">
                <h4>üß† Memory Trick</h4>
                <p>"<strong>Nicht at the END, unless you DEFEND (something specific)!</strong>"</p>
                <div class="hint">Default = end of sentence. Exception = before specific word you're negating</div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- TAB 5: SENTENCE BUILDER                     -->
    <!-- ============================================ -->
    <div id="builder" class="tab-content">
        <div class="card">
            <h2><span class="section-icon">üß©</span>Interactive Sentence Builder</h2>
            
            <div class="explanation-box">
                <p>Practice German word order by dragging words into the correct positions! Remember the rules you've learned.</p>
            </div>

            <div class="progress-container">
                <div class="progress-text">Completed: <span id="builderScore">0</span> / <span id="builderTotal">10</span></div>
                <div class="progress-bar">
                    <div class="progress-fill" id="builderProgress" style="width: 0%"></div>
                </div>
            </div>

            <div id="sentenceBuilderContainer">
                <!-- Generated by JavaScript -->
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <button class="play-all-btn" onclick="nextBuilderSentence()">‚û°Ô∏è Next Sentence</button>
                <button class="play-all-btn" onclick="resetBuilderSentence()" style="background: linear-gradient(135deg, #FF9800, #F57C00);">üîÑ Reset</button>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- TAB 6: COMMON PATTERNS                      -->
    <!-- ============================================ -->
    <div id="patterns" class="tab-content">
        <div class="card">
            <h2><span class="section-icon">üìã</span>Common Sentence Patterns</h2>
            
            <div class="explanation-box">
                <p>Learn these useful sentence templates and practice them with audio!</p>
            </div>

            <h3>üí¨ Basic Statements</h3>
            <div class="template-card" onclick="speak('Ich bin Student')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">Ich bin [noun/adjective]</div>
                <div class="template-example">Ich bin Student. (I am a student.)</div>
                <div class="template-example">Ich bin m√ºde. (I am tired.)</div>
            </div>

            <div class="template-card" onclick="speak('Ich habe einen Bruder')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">Ich habe [object]</div>
                <div class="template-example">Ich habe einen Bruder. (I have a brother.)</div>
                <div class="template-example">Ich habe Zeit. (I have time.)</div>
            </div>

            <div class="template-card" onclick="speak('Ich mag Pizza')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">Ich mag [object]</div>
                <div class="template-example">Ich mag Pizza. (I like pizza.)</div>
                <div class="template-example">Ich mag Deutsch. (I like German.)</div>
            </div>

            <h3>‚ùì Common Questions</h3>
            <div class="template-card" onclick="speak('Wie hei√üt du?')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">Wie hei√üt [subject]?</div>
                <div class="template-example">Wie hei√üt du? (What's your name?)</div>
                <div class="template-example">Wie hei√üt das? (What is that called?)</div>
            </div>

            <div class="template-card" onclick="speak('Wo wohnst du?')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">Wo [verb] [subject]?</div>
                <div class="template-example">Wo wohnst du? (Where do you live?)</div>
                <div class="template-example">Wo bist du? (Where are you?)</div>
            </div>

            <div class="template-card" onclick="speak('Was machst du gern?')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">Was [verb] [subject] gern?</div>
                <div class="template-example">Was machst du gern? (What do you like to do?)</div>
                <div class="template-example">Was isst du gern? (What do you like to eat?)</div>
            </div>

            <h3>‚è∞ Time Expressions</h3>
            <div class="template-card" onclick="speak('Ich gehe morgen ins Kino')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">[Subject] [Verb] [Time] [Place]</div>
                <div class="template-example">Ich gehe morgen ins Kino. (I'm going to the cinema tomorrow.)</div>
                <div class="template-example">Wir fahren n√§chste Woche nach Berlin. (We're going to Berlin next week.)</div>
            </div>

            <div class="template-card" onclick="speak('Heute bin ich zu Hause')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">[Time] [Verb] [Subject] [Place]</div>
                <div class="template-example">Heute bin ich zu Hause. (Today I am at home.)</div>
                <div class="template-example">Morgen arbeite ich nicht. (Tomorrow I'm not working.)</div>
            </div>

            <h3>üìç Place Expressions</h3>
            <div class="template-card" onclick="speak('Ich wohne in Berlin')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">[Subject] wohne/wohnst/wohnt in [City]</div>
                <div class="template-example">Ich wohne in Berlin. (I live in Berlin.)</div>
                <div class="template-example">Er wohnt in M√ºnchen. (He lives in Munich.)</div>
            </div>

            <div class="template-card" onclick="speak('Ich komme aus Deutschland')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">[Subject] komme/kommst/kommt aus [Country]</div>
                <div class="template-example">Ich komme aus Deutschland. (I come from Germany.)</div>
                <div class="template-example">Sie kommt aus Italien. (She comes from Italy.)</div>
            </div>

            <h3>üö´ Negation Patterns</h3>
            <div class="template-card" onclick="speak('Ich verstehe das nicht')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">[Subject] [Verb] [Object] nicht</div>
                <div class="template-example">Ich verstehe das nicht. (I don't understand that.)</div>
                <div class="template-example">Er spricht nicht Deutsch. (He doesn't speak German.)</div>
            </div>

            <div class="template-card" onclick="speak('Das ist nicht richtig')">
                <span class="audio-icon">üîä</span>
                <div class="template-pattern">Das ist nicht [Adjective]</div>
                <div class="template-example">Das ist nicht richtig. (That is not correct.)</div>
                <div class="template-example">Das ist nicht teuer. (That is not expensive.)</div>
            </div>

            <div class="key-point">
                <strong>üí° Practice Tip:</strong><br>
                Pick one pattern each day and create 5 different sentences using it. Practice saying them out loud!
            </div>
        </div>
    </div>
</div>

<!-- AUDIO STATUS -->
<div class="audio-status" id="audioStatus">
    <div class="spinner"></div>
    <span id="audioStatusText">Speaking...</span>
</div>

<footer>
    <p><strong>A1 Grammar - Sentence Structure | DeutschMind</strong></p>
    <p>Created for German Learners | ¬© 2025 aliattia02</p>
    <p>üéØ Click anywhere to hear pronunciation | üí™ Practice makes perfect!</p>
    
    <h3>üìö More Grammar Topics:</h3>
    <div class="grammar-links">
        <a href="grammar-articles.html" class="grammar-link">Articles (der/die/das)</a>
        <a href="present-tense.html" class="grammar-link">Present Tense</a>
        <a href="a1-grammar-plurals.html" class="grammar-link">Plurals</a>
    </div>
    
    <a href="../index.html" class="back-link">‚Üê Back to Home</a>
</footer>

<!-- Load base JavaScript first, then specific JavaScript -->
<script src="grammar-base.js"></script>
<script>
/* ============================================ */
/* SENTENCE STRUCTURE - SPECIFIC JAVASCRIPT    */
/* ============================================ */

// TMP Example rotation data
const tmpExamples = [
    {
        subject: 'Ich', verb: 'gehe',
        time: 'heute', manner: 'schnell', place: 'zum Supermarkt',
        translation: 'I go quickly to the supermarket today'
    },
    {
        subject: 'Er', verb: 'f√§hrt',
        time: 'morgen', manner: 'mit dem Bus', place: 'zur Arbeit',
        translation: 'He goes to work by bus tomorrow'
    },
    {
        subject: 'Wir', verb: 'reisen',
        time: 'im Sommer', manner: 'gern', place: 'nach Italien',
        translation: 'We like to travel to Italy in summer'
    },
    {
        subject: 'Sie', verb: 'l√§uft',
        time: 'jeden Morgen', manner: 'allein', place: 'im Park',
        translation: 'She runs alone in the park every morning'
    },
    {
        subject: 'Die Kinder', verb: 'spielen',
        time: 'nachmittags', manner: 'fr√∂hlich', place: 'drau√üen',
        translation: 'The children play happily outside in the afternoon'
    }
];

let tmpIndex = 0;

function rotateTMPExample() {
    tmpIndex = (tmpIndex + 1) % tmpExamples.length;
    const example = tmpExamples[tmpIndex];
    
    const display = document.getElementById('tmpDisplay');
    if (!display) return;
    
    display.innerHTML = `
        <span class="word-highlight highlight-subject">${example.subject}</span>
        <span class="word-highlight highlight-verb">${example.verb}</span>
        <span class="word-highlight highlight-time">${example.time}</span>
        <span class="word-highlight highlight-manner">${example.manner}</span>
        <span class="word-highlight highlight-place">${example.place}</span>
    `;
    
    const sentence = `${example.subject} ${example.verb} ${example.time} ${example.manner} ${example.place}`;
    speak(sentence);
}

/* ============================================ */
/* PLAY ALL SENTENCES                          */
/* ============================================ */

function playAllSentences() {
    const examples = [
        'Ich lerne Deutsch',
        'Trinkst du Kaffee?',
        'Was machst du?',
        'Ich gehe morgen gern ins Kino',
        'Er arbeitet heute flei√üig im B√ºro'
    ];
    
    console.log(`üîä Playing ${examples.length} sentence examples...`);
    if (window.GrammarBase && window.GrammarBase.speakSequentially) {
        window.GrammarBase.speakSequentially(examples, 2500);
    }
}

/* ============================================ */
/* SENTENCE BUILDER DATA & FUNCTIONS           */
/* ============================================ */

const builderSentences = [
    { words: ['Ich', 'lerne', 'Deutsch'], correct: 'Ich lerne Deutsch', english: 'I learn German', type: 'basic' },
    { words: ['Er', 'trinkt', 'Kaffee'], correct: 'Er trinkt Kaffee', english: 'He drinks coffee', type: 'basic' },
    { words: ['Wir', 'heute', 'arbeiten', 'nicht'], correct: 'Wir arbeiten heute nicht', english: 'We are not working today', type: 'negation' },
    { words: ['du', 'Wo', 'wohnst'], correct: 'Wo wohnst du', english: 'Where do you live', type: 'question' },
    { words: ['Was', 'machst', 'du', 'gern'], correct: 'Was machst du gern', english: 'What do you like to do', type: 'question' },
    { words: ['Ich', 'morgen', 'gehe', 'ins Kino'], correct: 'Ich gehe morgen ins Kino', english: 'I\'m going to the cinema tomorrow', type: 'tmp' },
    { words: ['gehe', 'Heute', 'ich', 'nicht', 'zur Schule'], correct: 'Heute gehe ich nicht zur Schule', english: 'Today I\'m not going to school', type: 'tmp' },
    { words: ['Sie', 'ist', 'nicht', 'm√ºde'], correct: 'Sie ist nicht m√ºde', english: 'She is not tired', type: 'negation' },
    { words: ['Er', 'f√§hrt', 'mit dem Bus', 'zur Arbeit'], correct: 'Er f√§hrt mit dem Bus zur Arbeit', english: 'He goes to work by bus', type: 'tmp' },
    { words: ['Bist', 'du', 'heute', 'frei'], correct: 'Bist du heute frei', english: 'Are you free today', type: 'question' }
];

let currentBuilderIndex = 0;
let builderScore = 0;
let draggedBuilderWord = null;

function renderSentenceBuilder() {
    const container = document.getElementById('sentenceBuilderContainer');
    if (!container) return;

    const sentence = builderSentences[currentBuilderIndex];
    const shuffled = sentence.words.slice().sort(() => Math.random() - 0.5);

    let html = '<div class="sentence-builder">';
    html += `<p class="sentence-target">üá¨üáß <strong>${sentence.english}</strong></p>`;
    html += `<p style="color: #666; margin-bottom: 15px;">Sentence ${currentBuilderIndex + 1} of ${builderSentences.length}</p>`;

    html += '<div class="drop-zone" id="builderDropZone"></div>';

    html += '<div class="word-bank" id="builderWordBank">';
    shuffled.forEach(word => {
        html += `<div class="draggable-word" draggable="true" data-word="${word}">${word}</div>`;
    });
    html += '</div>';

    html += '<div class="sentence-feedback" id="builderFeedback"></div>';

    html += '<div class="builder-controls">';
    html += '<button class="check-btn" onclick="checkBuilderSentence()">‚úì Check Sentence</button>';
    html += '</div>';
    html += '</div>';

    container.innerHTML = html;
    setupBuilderDragAndDrop();
}

function setupBuilderDragAndDrop() {
    const words = document.querySelectorAll('#builderWordBank .draggable-word, #builderDropZone .draggable-word');
    const dropZone = document.getElementById('builderDropZone');

    if (!dropZone) return;

    words.forEach(word => {
        word.addEventListener('dragstart', handleBuilderDragStart);
        word.addEventListener('dragend', handleBuilderDragEnd);
        word.addEventListener('click', handleBuilderWordClick);
    });

    dropZone.addEventListener('dragover', handleBuilderDragOver);
    dropZone.addEventListener('drop', handleBuilderDrop);
    dropZone.addEventListener('dragleave', handleBuilderDragLeave);
}

function handleBuilderDragStart(e) {
    draggedBuilderWord = this;
    this.classList.add('dragging');
    e.dataTransfer.setData('text/plain', this.getAttribute('data-word'));
}

function handleBuilderDragEnd(e) {
    this.classList.remove('dragging');
    draggedBuilderWord = null;
}

function handleBuilderDragOver(e) {
    e.preventDefault();
    this.classList.add('drag-over');
}

function handleBuilderDragLeave(e) {
    this.classList.remove('drag-over');
}

function handleBuilderDrop(e) {
    e.preventDefault();
    this.classList.remove('drag-over');

    if (draggedBuilderWord) {
        const clone = draggedBuilderWord.cloneNode(true);
        clone.classList.add('in-dropzone');
        clone.classList.remove('dragging');
        clone.removeAttribute('draggable');
        clone.addEventListener('click', function() {
            const wordBank = document.getElementById('builderWordBank');
            this.remove();
            const newWord = document.createElement('div');
            newWord.className = 'draggable-word';
            newWord.draggable = true;
            newWord.setAttribute('data-word', this.getAttribute('data-word'));
            newWord.textContent = this.textContent;
            wordBank.appendChild(newWord);
            setupBuilderDragAndDrop();
        });
        this.appendChild(clone);
        draggedBuilderWord.remove();
    }
}

function handleBuilderWordClick(e) {
    if (this.classList.contains('in-dropzone')) {
        const wordBank = document.getElementById('builderWordBank');
        const word = this.getAttribute('data-word');
        this.remove();
        
        const newWord = document.createElement('div');
        newWord.className = 'draggable-word';
        newWord.draggable = true;
        newWord.setAttribute('data-word', word);
        newWord.textContent = word;
        wordBank.appendChild(newWord);
        setupBuilderDragAndDrop();
        return;
    }

    const dropZone = document.getElementById('builderDropZone');
    const clone = this.cloneNode(true);
    clone.classList.add('in-dropzone');
    clone.removeAttribute('draggable');
    clone.addEventListener('click', handleBuilderWordClick);
    dropZone.appendChild(clone);
    this.remove();
}

function checkBuilderSentence() {
    const dropZone = document.getElementById('builderDropZone');
    const words = dropZone.querySelectorAll('.draggable-word');
    const feedback = document.getElementById('builderFeedback');
    const sentence = builderSentences[currentBuilderIndex];

    let userSentence = Array.from(words).map(w => w.getAttribute('data-word')).join(' ');

    feedback.classList.remove('correct', 'incorrect');

    if (userSentence === sentence.correct) {
        builderScore++;
        feedback.textContent = `‚úÖ Correct! ${sentence.correct}`;
        feedback.classList.add('correct');
        updateBuilderProgress();
        
        if (window.GrammarBase && window.GrammarBase.speak) {
            window.GrammarBase.speak(sentence.correct);
        }
    } else {
        feedback.textContent = `‚ùå Not quite. The correct answer is: ${sentence.correct}`;
        feedback.classList.add('incorrect');
    }
}

function updateBuilderProgress() {
    const scoreDisplay = document.getElementById('builderScore');
    const totalDisplay = document.getElementById('builderTotal');
    const progressFill = document.getElementById('builderProgress');

    if (scoreDisplay) scoreDisplay.textContent = builderScore;
    if (totalDisplay) totalDisplay.textContent = builderSentences.length;
    if (progressFill) {
        progressFill.style.width = `${(builderScore / builderSentences.length) * 100}%`;
    }
}

function nextBuilderSentence() {
    currentBuilderIndex = (currentBuilderIndex + 1) % builderSentences.length;
    renderSentenceBuilder();
}

function resetBuilderSentence() {
    renderSentenceBuilder();
}

/* ============================================ */
/* INITIALIZE                                  */
/* ============================================ */

function initializeSentenceStructurePage() {
    console.log('üìê Initializing Sentence Structure Page...');
    
    setTimeout(() => {
        renderSentenceBuilder();
        updateBuilderProgress();
        console.log('‚úÖ Sentence Structure Page Ready!');
    }, 100);
}

// Initialize when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeSentenceStructurePage);
} else {
    initializeSentenceStructurePage();
}

// Make functions globally accessible
window.rotateTMPExample = rotateTMPExample;
window.playAllSentences = playAllSentences;
window.checkBuilderSentence = checkBuilderSentence;
window.nextBuilderSentence = nextBuilderSentence;
window.resetBuilderSentence = resetBuilderSentence;
</script>

</body>
</html>